import{a0 as P,j as e,a as B,r as i,aY as V,u as J}from"./index-BfaARDkR.js";import{C as z}from"./Select-D0nJFrsW.js";import"./FormContainer-DntErVAM.js";import{b as G,c as K,d as Y,e as q,f as Q,g as T}from"./Tag-DS9JN-3h.js";import{B as M,I as S}from"./hoist-non-react-statics.cjs-AcStEq0h.js";import{e as R}from"./Upload-D8BOXKwX.js";import{t as E,N as A}from"./toast-BBDaWVEO.js";import"./Views-DLeq2GbK.js";const X=async(s,t,d)=>{try{return await P({url:`/padf?department_id=${s}&team_id=${t}&year=${d}`,method:"get"})}catch(m){throw console.error("Error fetching information data:",m),m}},Z=async s=>{try{return await P({url:"padf",method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error fetching information data:",t),t}},ee=async(s,t,d)=>{try{return await P({url:`/padf_comments?department_id=${s}&team_id=${t}&year=${d}`,method:"get"})}catch(m){throw console.error("Error fetching information data:",m),m}},se=async s=>{try{return await P({url:"padf_comments",method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error fetching information data:",t),t}},ae=()=>e.jsxs("div",{className:"flex justify-between items-start border-2 rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm gap-5 ",children:[e.jsx("h3",{className:"font-semibold text-lg/7",children:"What is PADF?"}),e.jsx("p",{className:"text-sm text-gray-600 max-w-md",children:"The Performance Appraisal Dispute Form is Used by na appraisee to file a complaint against an appraiser. The form is used to document the reasons for the complaint a formal complaint or grivence......"})]}),e.jsx("div",{})]}),te=({plan:s,review:t,finalApprisal:d,Pip:m})=>{const v=B(),[x,y]=i.useState([]);i.useEffect(()=>{const n=[];s&&n.push("plan"),t&&n.push("review"),d&&n.push("finalApprisal"),m&&n.push("Pip"),y(n)},[s,t,d,m]);const w=n=>{y(h=>h.includes(n)?h.filter(u=>u!==n):[...h,n])};i.useEffect(()=>{const n=x.includes("plan")?1:0,h=x.includes("review")?1:0,u=x.includes("finalApprisal")?1:0,r=x.includes("Pip")?1:0;console.log("Selected Values:",{plan:n,review:h,finalApprisal:u,Pip:r}),v(V({plan:n,review:h,finalApprisal:u,Pip:r}))},[x,v]);const I=[{label:"Performance (Plan)",value:"plan"},{label:"Quarterly Review (Review)",value:"review"},{label:"End-of-Year Appraisal (Final Appraisal)",value:"finalApprisal"},{label:"Performance Improvement Plan (PIP)",value:"Pip"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative p-3 bg-green-600 rounded-lg shadow-md mb-2",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h4",{className:"text-sm text-white font-semibold",children:"COMPLAINT RELATED TO (TICK AS APPROPRIATE):"})})}),e.jsx("div",{className:"flex bg-white border-2 rounded-lg overflow-hidden divide-x divide-gray-300",children:I.map(n=>e.jsx("div",{className:"flex-1 px-4 py-2 flex items-center justify-center",children:e.jsx(z,{checked:x.includes(n.value),color:"blue",onChange:()=>w(n.value),children:n.label})},n.value))})]})},re=()=>e.jsxs("div",{className:"p-8 border-2 rounded-lg shadow-sm bg-white w-full max-w-4xl",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Appraisal Period Covered"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["1st January 2024"," to ","31st December 2024"]})]}),le=[{nature:"Warning issued for policy violation",participants:"John Doe, Jane Smith",comments:"Employee was informed of the policy and acknowledged understanding."},{nature:"Training session conducted",participants:"Michael Scott, Dwight Schrute",comments:"Session completed successfully. All attendees signed attendance sheet."}],ne=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-700 rounded-lg shadow-md mb-4",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"ACTION TAKEN (FOR HR DEPARTMENT USE ONLY)"})}),e.jsx("div",{children:e.jsxs(G,{className:"w-full border border-gray-300 text-sm",children:[e.jsx(K,{children:e.jsx(Y,{className:"bg-gray-100",children:e.jsx(q,{className:"border p-2 w-10",children:"#"})})}),e.jsx(Q,{children:le.map((s,t)=>e.jsxs(Y,{children:[e.jsx(T,{className:"border p-2 text-center align-middle",children:t+1}),e.jsxs(T,{className:"border p-2",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Nature of Action:"}),e.jsx("textarea",{rows:2,className:"w-full border border-gray-300 p-1 rounded resize-y",defaultValue:s.nature})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Participants:"}),e.jsx("textarea",{rows:2,className:"w-full border border-gray-300 p-1 rounded resize-y",defaultValue:s.participants})]})]}),e.jsxs(T,{className:"border p-2 align-top",children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Comments/Findings:"}),e.jsx("textarea",{rows:5,className:"w-full border border-gray-300 p-1 rounded resize-y",defaultValue:s.comments})]})]},t))})]})})]}),oe=()=>{const s={comment:"Reviewed the case thoroughly. No discrepancies found.",dateReceived:"2025-05-06",name:"Ankita Sharma",declaration:"Approved"};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-700 rounded-lg shadow-md mb-4",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"FOR USE OF THE MDA HUMAN RESOURCE DEPARTMENT:"})}),e.jsxs("div",{className:"p-3 border-2 rounded-lg shadow-sm bg-white w-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"HR Review Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-extrabold",children:["HR's"," Comment:"]})," ",s.comment]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-extrabold",children:["Date of Receipt in ","HR's"," Dept.:"]})," ",s.dateReceived]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-extrabold",children:["HR's"," Name:"]})," ",s.name]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-extrabold",children:["HR's"," Declaration:"]})," ",s.declaration]})]})]})]})},de=({StaffDetails:s,SupervisorDetails:t})=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-3 bg-green-600 rounded-lg shadow-md mb-2",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"SECTION 1: (PERSONAL INFORMATION)"})}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-3 border-2 rounded-lg shadow-sm bg-white w-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Apprisee Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"First Name:"}),s.F_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Middle Name:"})," ",s.M_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Last Name:"})," ",s.L_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Role:"})," ",s.role]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Ippis No:"})," ",s.ippis_no]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Phone:"})," ",s.phone]})]})]}),e.jsxs("div",{className:"p-4 border-2 rounded-lg shadow-sm bg-white w-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Appraiser Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"First Name:"})," ",t.F_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Middle Name:"})," ",t.M_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Last Name:"})," ",t.L_Name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Role:"})," ",t.role]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Ippis No:"})," ",t.ippis_no]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Phone:"})," ",t.phone]})]})]})]})})]}),ce=()=>{const s=["Performance appraisal to be retained","Supervisor to revise performance appraisal","Supervisor to undertake new performance appraisal","Employee to be appraised by another appraiser","Refer to Junior/Senior Staff Committee (as appropriate)","Others (please explain below)"];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-700 rounded-lg shadow-md mb-4",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"FOR USE ONLY BY THE HUMAN RESOURCE DEPARTMENT"})}),e.jsx("div",{className:"p-4 rounded-lg border shadow-sm mb-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4 text-sm",children:s.map((t,d)=>e.jsxs("div",{className:"flex items-center space-x-2 ",children:[e.jsx("span",{className:"w-6 text-gray-700",children:d+1}),e.jsx("label",{className:"flex-1",children:t}),e.jsx("input",{type:"checkbox",className:"w-4 h-4"})]},d))})})]})},ie=()=>{const[s,t]=i.useState({comment:"",name:"",declaration:0,date:null}),[d,m]=i.useState({comment:"",name:"",declaration:0,date:null}),[v,x]=i.useState(!1),[y,w]=i.useState(""),I=async()=>{var r,c;x(!0);try{const l=localStorage.getItem("selectedDepartmentID")||"",f=localStorage.getItem("selectedTeamID"),b=localStorage.getItem("selectedYear")?Number(localStorage.getItem("selectedYear")):new Date().getFullYear(),_=await ee(l,f?Number(f):null,b),g=(r=_==null?void 0:_.data)==null?void 0:r.comments;if(g)t({comment:g.staff.comment||"",name:g.staff.name||"",declaration:((c=g.staff.declaration)==null?void 0:c.toString())??"",date:g.staff.date?new Date(g.staff.date):null}),m(g.supervisor);else throw new Error("No staff comment data found.")}catch(l){console.error("Error fetching data:",l),w("Failed to load data. Please try again.")}finally{x(!1)}};i.useEffect(()=>{I()},[]);const n=r=>{const{name:c,value:l}=r.target;t(f=>({...f,[c]:l}))},h=r=>{t(c=>({...c,date:r}))},u=async()=>{var c;const r={department_id:localStorage.getItem("selectedDepartmentID")||"",team_id:localStorage.getItem("selectedTeamID"),year:localStorage.getItem("selectedYear")?Number(localStorage.getItem("selectedYear")):new Date().getFullYear(),...s,date:(c=s.date)==null?void 0:c.toISOString().split("T")[0]};try{(await se(r)).status===200&&E.push(e.jsx(A,{title:"Success",type:"success",children:"Data added successfully!"}),{placement:"top-center"})}catch{E.push(e.jsx(A,{title:"Error",type:"danger",children:"Something went wrong. Please try again."}),{placement:"top-center"})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-700 rounded-lg shadow-md mb-4",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"SECTION 4: CONFIRMATION AND ACKNOWLEDGEMENT"})}),v?e.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):e.jsxs("div",{className:"bg-white p-4 border-2 border-gray-300 rounded-lg shadow-sm space-y-4",children:[y&&e.jsx("p",{className:"text-red-500 text-sm",children:y}),e.jsxs("p",{className:"text-sm text-gray-700",children:["I, ",e.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Your Name",className:"px-2 py-1 text-sm w-48 inline-block border-b border-dashed border-gray-900 focus:outline-none",onChange:n}),", (Appraisee) hereby formally submit this Performance Appraisal Dispute Form to seek a resolution to my grievance as stated above. I also understand that if I do not receive a response from the appraiser and/or the Human Resource Department within 5 working days, I will appeal directly to the Junior/Senior Staff Committee as appropriate."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Appraisee Declaration"}),e.jsxs("select",{name:"declaration",value:s.declaration,className:"w-full border border-gray-300 rounded-md p-2 text-sm shadow-sm",onChange:n,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"0",children:"Agree"}),e.jsx("option",{value:"1",children:"Disagree"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx(R,{size:"sm",placeholder:"Pick a date",value:s.date,onChange:h})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(M,{variant:"solid",onClick:u,children:"Submit"})})]}),e.jsx("div",{className:"p-3 border-2 rounded-lg shadow-sm bg-white w-full my-4",children:e.jsxs("div",{className:"flex flex-col text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-extrabold",children:"Appraiser Comment:"}),d.comment]}),e.jsxs("p",{className:"mt-1",children:[e.jsx("span",{className:"font-extrabold",children:"Appraiser Name:"}),d.name]}),e.jsxs("p",{className:"mt-1",children:[e.jsx("span",{className:"font-extrabold",children:"Appraiser Declaration :"}),d.declaration===0?"Agree":d.declaration===1?"Disagree":null]}),e.jsxs("p",{className:"mt-1",children:[e.jsx("span",{className:"font-extrabold",children:"Date:"})," ",d.date?new Date(d.date).toLocaleDateString():"N/A"," "]})]})})]})},me=({details_of_performance_dispute:s,date_of_incidence:t,individuals_involved:d,provide_Details:m,grievance_affecting:v,description:x,who_did_you_speak:y,on_what_date:w,responses:I,possible_solutions:n,browse_file_1:h,browse_file_2:u,browse_file_3:r,browse_file_4:c})=>{const[l,f]=i.useState({details_of_performance_dispute:s,date_of_incidence:t,individuals_involved:d,provide_Details:m,grievance_affecting:v,description:x,who_did_you_speak:y,on_what_date:w,responses:I,possible_solutions:n,browse_file_1:h,browse_file_2:u,browse_file_3:r,browse_file_4:c}),[b,_]=i.useState([h||null,u||null,r||null,c||null]),[g,L]=i.useState({details_of_performance_dispute:!1}),k=i.useRef([]);i.useEffect(()=>{_([h,u,r,c])},[h,u,r,c]);const U=(a,o)=>{var C;const p=((C=a.target.files)==null?void 0:C[0])||null,N=[...b];N[o]=p||null,_(N)},F=a=>{if(!a)return null;const[o,p,N]=a.split("/").map(Number);return new Date(N,p-1,o)},H=a=>{if(!a)return"";const o=String(a.getDate()).padStart(2,"0"),p=String(a.getMonth()+1).padStart(2,"0"),N=a.getFullYear();return`${o}/${p}/${N}`},O=a=>o=>{f({...l,[a]:o?H(o):""})},D=(a,o)=>{const p=a.target.value,N=p.trim().split(/\s+/).length;L({...g,[o]:N>200}),(N<=200||o in g)&&f({...l,[o]:p})},j=J(a=>a.padf),$=a=>{var o;(o=k.current[a])==null||o.click()},W=async()=>{if(!!Object.values(g).includes(!0)){E.push(e.jsx(A,{title:"Error",type:"danger",children:"Please fix the errors in the form before submitting."}),{placement:"top-center"});return}const o={...l,browse_file_1:b[0]||null,browse_file_2:b[1]||null,browse_file_3:b[2]||null,browse_file_4:b[3]||null},p={performance_plan:(j==null?void 0:j.plan)||0,quarterly_review:(j==null?void 0:j.review)||0,end_of_year_apprisal:(j==null?void 0:j.finalApprisal)||0,performence_improvement_plan:(j==null?void 0:j.Pip)||0},N={...o,...p,department_id:localStorage.getItem("selectedDepartmentID"),team_id:localStorage.getItem("selectedTeamID"),year:localStorage.getItem("selectedYear")?Number(localStorage.getItem("selectedYear")):new Date().getFullYear()};console.log("Form Data Submitted:",N);try{(await Z(N)).status===201&&E.push(e.jsx(A,{title:"Success",type:"success",children:"Data added successfully!"}),{placement:"top-center"})}catch{E.push(e.jsx(A,{title:"Error",type:"danger",children:"Something went wrong. Please try again."}),{placement:"top-center"})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-700 rounded-lg shadow-md mb-4",children:e.jsx("h4",{className:"text-white font-semibold text-sm",children:"SECTION 2: DETAILS OF PERFORMANCE DISPUTE (ATTACH SUPPORTING DOCUMENTS AS REQUIRED)"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1. Describe the nature and details of the grievance you have. Please be specific:"}),e.jsx(S,{textArea:!0,value:l.details_of_performance_dispute,placeholder:"Describe the nature and details of the grievance you have.",className:`block w-full text-sm border ${g.details_of_performance_dispute?"border-red-500":"border-gray-300"} rounded-md shadow-sm p-2`,onChange:a=>D(a,"details_of_performance_dispute")}),g.details_of_performance_dispute&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Maximum 200 words allowed."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Incidence"}),e.jsx(R,{placeholder:"Please select",value:l.date_of_incidence?F(l.date_of_incidence):null,onChange:O("date_of_incidence")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Individual(s) Involved:"}),e.jsx(S,{placeholder:"Individual(s) Involved",value:l.individuals_involved,className:"w-full border border-gray-300 rounded-md p-2 text-sm shadow-sm",onChange:a=>D(a,"individuals_involved")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details of the Dispute"}),e.jsx(S,{placeholder:"Details of the Dispute",value:l.provide_Details,className:"w-full border border-gray-300 rounded-md p-2 text-sm shadow-sm",onChange:a=>D(a,"provide_Details")})]})]})]}),e.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"2. How is the grievance affecting your ability to perform on your job?"}),e.jsx(S,{value:l.grievance_affecting,placeholder:"How is the grievance affecting your ability to perform on your job?",className:"block w-full text-sm border border-gray-300 rounded-md shadow-sm p-2",onChange:a=>D(a,"grievance_affecting")})]}),e.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"3. Describe the attempts you have made to resolve the grievance and the outcome(s)?"}),e.jsx(S,{textArea:!0,value:l.description,placeholder:"Describe the attempts you have made to resolve the grievance and the outcome(s)?",className:"block w-full text-sm border border-gray-300 rounded-md shadow-sm p-2",onChange:a=>D(a,"description")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who did you speak to:"}),e.jsx(S,{value:l.who_did_you_speak,placeholder:"Who did you speak to...",className:"w-full border border-gray-300 rounded-md p-2 text-sm shadow-sm",onChange:a=>D(a,"who_did_you_speak")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"On what dates:"}),e.jsx(R,{placeholder:"Please select",value:l.on_what_date?F(l.on_what_date):null,onChange:O("on_what_date")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response or outcome:"}),e.jsx(S,{value:l.responses,placeholder:"Response or outcome:",className:"w-full border border-gray-300 rounded-md p-2 text-sm shadow-sm",onChange:a=>D(a,"responses")})]})]})]}),e.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm ",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 ",children:"4.Possible Solutions"}),e.jsx(S,{textArea:!0,value:l.possible_solutions,placeholder:"Describe the nature and details of the grievance you have.",className:"block w-full text-sm border border-gray-300 rounded-md shadow-sm p-2",onChange:a=>D(a,"possible_solutions")})]}),e.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-sm space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Supporting Images:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:b.map((a,o)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{type:"button",className:"w-full bg-green-600 hover:bg-green-400 text-white text-sm py-2 px-3 rounded shadow",onClick:()=>$(o),children:a?"Change Image":`Upload Image ${o+1}`}),e.jsx("input",{ref:p=>{k.current[o]=p},type:"file",accept:"image/*",className:"hidden",onChange:p=>U(p,o)}),a?e.jsx("img",{src:typeof a=="string"?a:URL.createObjectURL(a),alt:`preview-${o}`,className:"w-full h-32 rounded border object-cover"}):e.jsx("span",{className:"mt-4 text-sm text-gray-500",children:"Image Not Found !!"})]},o))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{variant:"solid",className:"bg-blue-600 text-white text-sm px-4 py-2 rounded shadow hover:bg-blue-700",onClick:W,children:"Submit"})})]})},Ne=()=>{const[s,t]=i.useState(null),[d,m]=i.useState(!0),[v,x]=i.useState(null),y=async()=>{try{const c=localStorage.getItem("selectedDepartmentID")||"",l=localStorage.getItem("selectedTeamID"),f=localStorage.getItem("selectedYear")?Number(localStorage.getItem("selectedYear")):new Date().getFullYear(),b=await X(c,l?Number(l):null,f);if(b&&b.data)t(b.data);else throw new Error("Invalid response data")}catch(c){console.error("Error fetching data:",c),x("Failed to load data. Please try again.")}finally{m(!1)}};if(i.useEffect(()=>{y()},[]),d)return e.jsx("div",{children:"Loading..."});if(v)return e.jsx("div",{className:"text-red-500",children:v});if(!s)return e.jsx("div",{children:"No data available."});const w=(c,l)=>{const f=c.split(" ");return f.slice(0,l).join(" ")+(f.length>l?"...":"")},{department:I,team:n,staff:h,supervisor:u}=s.initial_data,r=s.padf_details;return e.jsxs("div",{className:"space-y-4 min-h-screen",children:[e.jsxs("div",{className:"lg:flex items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsx("img",{src:"/img/logo/new-logo education.png",className:"h-16 w-52"}),e.jsx("p",{className:"text-lg font-bold text-black",children:"Performance Appraisal Dispute Form (PADF)"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-end lg:items-center gap-4 lg:gap-8 text-right lg:text-left",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-black",children:n==null?void 0:n.team_name}),e.jsx("p",{className:"text-gray-500",children:w(n.team_description,5)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-black",children:I.department_name}),e.jsx("p",{className:"text-gray-500",children:w(I.department_description,5)})]})]})]}),e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(ae,{}),e.jsx(re,{})]}),e.jsx(te,{plan:!!(r!=null&&r.performance_plan),review:!!(r!=null&&r.quarterly_review),finalApprisal:!!(r!=null&&r.end_of_year_apprisal),Pip:!!(r!=null&&r.performence_improvement_plan)}),e.jsx(de,{StaffDetails:h,SupervisorDetails:u}),e.jsx(me,{...r}),e.jsx(ie,{}),e.jsx(oe,{}),e.jsx(ne,{}),e.jsx(ce,{})]})};export{Ne as default};
