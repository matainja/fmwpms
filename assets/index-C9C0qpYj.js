import{r as f,j as e,Y as g}from"./index-BfaARDkR.js";import{A as b,F,a as l}from"./FormContainer-DntErVAM.js";import{I as y,B as N}from"./hoist-non-react-statics.cjs-AcStEq0h.js";import{u as v,P,A as S}from"./useTimeOutMessage-BbrjI8Kt.js";import{F as k,a as E,b as m}from"./formik.esm-CWz96Ia2.js";import{c as I,b as d}from"./index.esm-Ctb40lfs.js";import"./Tag-DS9JN-3h.js";import"./SvgIcon-js1B2RSy.js";import"./Views-DLeq2GbK.js";import"./useThemeClass-BGbBx7Gy.js";import"./cloneDeep-DznBgb_t.js";import"./Select-D0nJFrsW.js";import"./index-thXUAzpJ.js";import"./quill.snow-Bx78pTjh.js";const M=I().shape({email:d().required("Please enter your email"),password:d().required("Please enter your password").min(6,"Password must be at least 6 characters")}),A=c=>{const{disableSubmit:p=!1,className:h,signInUrl:x="/sign-in"}=c,[t,u]=f.useState(!1),[i,j]=v(),w=async(a,s)=>{var o,n;s(!0);try{(await g(a)).data&&(s(!1),u(!0))}catch(r){j(((n=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:n.message)||r.toString()),s(!1)}};return e.jsxs("div",{className:h,children:[e.jsx("div",{className:"mb-6",children:t?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{className:"text-white font-semibold",children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Forgot Password"}),e.jsx("p",{className:"text-gray-800 font-semibold",children:"Please enter your email and new password"})]})}),i&&e.jsx(b,{showIcon:!0,className:"mb-4",type:"danger",children:i}),e.jsx(k,{initialValues:{email:"",password:""},validationSchema:M,onSubmit:(a,{setSubmitting:s})=>{p?s(!1):w(a,s)},children:({touched:a,errors:s,isSubmitting:o})=>e.jsx(E,{children:e.jsxs(F,{children:[e.jsxs("div",{className:t?"hidden":"",children:[e.jsx(l,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(m,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:y})}),e.jsx(l,{invalid:s.password&&a.password,errorMessage:s.password,children:e.jsx(m,{type:"password",autoComplete:"off",name:"password",placeholder:"Password",component:P})})]}),e.jsx(N,{block:!0,loading:o,variant:"solid",type:"submit",className:"!bg-indigo-600 hover:!bg-indigo-800 text-white rounded-lg border-none",children:t?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{className:"text-white",children:"Back to "}),e.jsx(S,{to:x,children:e.jsx("span",{className:"text-black font-semibold",children:"Sign in"})})]})]})})})]})},G=()=>e.jsx(A,{disableSubmit:!1});export{G as default};
