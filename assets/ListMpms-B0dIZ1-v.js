import{r as x,j as e,a0 as R}from"./index-BfaARDkR.js";import"./FormContainer-DntErVAM.js";import{b as u,c as E,d as b,e as a,f as S,g as r,P as T}from"./Tag-DS9JN-3h.js";import"./hoist-non-react-statics.cjs-AcStEq0h.js";import"./Upload-D8BOXKwX.js";import"./Select-D0nJFrsW.js";import"./toast-BBDaWVEO.js";import"./Views-DLeq2GbK.js";const j=10,A=({data:n})=>{const[t,d]=x.useState(1),o=n.kras.flatMap(s=>s.objs.map(l=>({kra:s,obj:l}))),c=o.length,p=o.slice((t-1)*j,t*j),i=s=>{d(s)};return e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(u,{className:"min-w-full border-2 border-gray-200 border-collapse",children:[e.jsx(E,{children:e.jsxs(b,{className:"bg-gray-300",children:[e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"S/N"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KEY RESULT AREA"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"SMART OBJECTIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"INITIATIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KPI"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"TARGET"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"RESPONSIBLE"})]})}),e.jsx(S,{children:p.map((s,l)=>e.jsxs(b,{className:"text-sm",children:[e.jsx(r,{className:"border px-2 py-1",children:(t-1)*j+l+1}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Initiative||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.kpi||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.target||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Responsible||"-"})]},l))})]}),c>j&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(T,{total:c,currentPage:t,pageSize:j,onChange:i,displayTotal:!0})})]})},h=10,D=({data:n})=>{const[t,d]=x.useState(1),o=n.kras.flatMap(s=>s.objs.map(l=>({kra:s,obj:l}))),c=o.length,p=o.slice((t-1)*h,t*h),i=s=>{d(s)};return e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(u,{className:"min-w-full border-2 border-gray-200 border-collapse",children:[e.jsx(E,{children:e.jsxs(b,{className:"bg-gray-300",children:[e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"S/N"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KEY RESULT AREA"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"SMART OBJECTIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"INITIATIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KPI"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"TARGET"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"RESPONSIBLE"})]})}),e.jsx(S,{children:p.map((s,l)=>e.jsxs(b,{className:"text-sm",children:[e.jsx(r,{className:"border px-2 py-1",children:(t-1)*h+l+1}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Initiative||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.kpi||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.target||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Responsible||"-"})]},l))})]}),c>h&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(T,{total:c,currentPage:t,pageSize:h,onChange:i,displayTotal:!0})})]})},N=10,k=({data:n})=>{const[t,d]=x.useState(1),o=n.kras.flatMap(s=>s.objs.map(l=>({kra:s,obj:l}))),c=o.length,p=o.slice((t-1)*N,t*N),i=s=>{d(s)};return e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(u,{className:"min-w-full border-2 border-gray-200 border-collapse",children:[e.jsx(E,{children:e.jsxs(b,{className:"bg-gray-300",children:[e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"S/N"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KEY RESULT AREA"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"SMART OBJECTIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"WEIGHT"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"INITIATIVES"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"KPI"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"TARGET"}),e.jsx(a,{className:"border px-2 py-1 font-semibold",children:"RESPONSIBLE"})]})}),e.jsx(S,{children:p.map((s,l)=>e.jsxs(b,{className:"text-sm",children:[e.jsx(r,{className:"border px-2 py-1",children:(t-1)*N+l+1}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.kra.kra_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_title||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.obj_weight??"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Initiative||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.kpi||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.target||"-"}),e.jsx(r,{className:"border px-2 py-1",children:s.obj.Responsible||"-"})]},l))})]}),c>N&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(T,{total:c,currentPage:t,pageSize:N,onChange:i,displayTotal:!0})})]})},C=async n=>{try{return await R({url:`/mpms?department_id=${n}`,method:"get"})}catch(t){throw console.error("Error fetching information data:",t),t}},g=({tabName:n,activeTab:t,setActiveTab:d})=>{const o=t===n;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:`flex items-center justify-between gap-4 w-full text-sm font-semibold rounded-md px-5 py-2
        ${o?"bg-green-700 text-white":"bg-white text-black border border-gray-300 hover:bg-gray-100"}`,onClick:()=>d(n),children:e.jsx("span",{children:n})})})},H=()=>{const[n,t]=x.useState("Presidential"),[d,o]=x.useState(!1),[c,p]=x.useState(""),[i,s]=x.useState([]);x.useEffect(()=>{(async()=>{try{o(!0);const f=localStorage.getItem("selectedDepartmentID")||"",y=await C(f);if(y&&y.data)s(y.data.data);else throw new Error("Invalid response data")}catch(f){console.error("Error fetching data:",f),p(f.message||"An error occurred")}finally{o(!1)}})()},[]),console.log("mpmsData",i);const l=i.find(m=>m.heading==="Presidential Priorities"),I=i.find(m=>m.heading==="MDA Operational Objectives"),v=i.find(m=>m.heading==="Service-Wide KRA"),P=()=>{if(d)return e.jsx("p",{className:"text-center p-4",children:"Loading..."});if(c)return e.jsx("p",{className:"text-center text-red-500 p-4",children:c});switch(n){case"Presidential":return l?e.jsx(A,{data:l}):e.jsx("p",{children:"No Data Found"});case"Operational":return I?e.jsx(D,{data:I}):e.jsx("p",{children:"No Data Found"});case"ServiceWide":return v?e.jsx(k,{data:v}):e.jsx("p",{children:"No Data Found"});default:return null}};return e.jsxs("div",{className:"space-y-7 h-full relative z-10 overflow-visible",children:[e.jsx("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"MPMS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"(Ministerial Performance Monitoring System)"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(g,{tabName:"Presidential",activeTab:n,setActiveTab:t}),e.jsx(g,{tabName:"Operational",activeTab:n,setActiveTab:t}),e.jsx(g,{tabName:"ServiceWide",activeTab:n,setActiveTab:t})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:P()})]})};export{H as default};
