import{p as k,$ as S,r,j as e}from"./index-CdXcW46_.js";import{S as A}from"./Faq-BdhkfdKZ.js";import{C as P,E,F as H,G as I}from"./Views-YlTiOC4j.js";import{C as g,a as M}from"./Tag-BIrPdKNG.js";import"./SvgIcon-789oDBY2.js";import{I as T,B}from"./hoist-non-react-statics.cjs-BYdDfNAW.js";import{T as j,p as D,f as G}from"./parse-CEw071AJ.js";import{U as L}from"./UsersAvatarGroup-B7w8QtDK.js";import"./FormContainer-B5i-gxwG.js";import{I as U}from"./Upload-CkxX527j.js";import"./Select-epRO6R5x.js";import"./toast-DnPvOHpm.js";import{R as q}from"./index-BSfDYToA.js";import"./index-8ORoQwk5.js";import"./quill.snow-CicULtXM.js";import"./cloneDeep-DznBgb_t.js";import"./useThemeClass-Cjhy4_sh.js";import"./acronym-CPJSmrBl.js";const F=({count:l=3})=>e.jsx("div",{children:Array.from({length:l}).map((c,i)=>e.jsx(g,{className:"mb-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx(j,{rowCount:1,className:"mb-2"}),e.jsx(j,{rowCount:2})]})},i))}),ce=()=>{const l=k(),{id:c}=S(),[i,b]=r.useState([]),[y,d]=r.useState(!0),[o,x]=r.useState(null),[n,N]=r.useState("");r.useEffect(()=>{(async()=>{var a,u;if(!c){x("Invalid category ID"),d(!1);return}try{const{data:t}=await A(c),m=t.map(f=>({...f,category:f.catagory}));b(m)}catch(t){console.error("Error fetching category articles:",t);const m=((u=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:u.message)||"Failed to fetch articles";x(m)}finally{d(!1)}})()},[c]);const p=s=>{N(s)},v=location.pathname.startsWith("/public"),C=s=>{l(`${v?"/public/article":"/article"}/${s}`)},w=s=>{const a=D(s,"yyyy-MM-dd HH:mm:ss",new Date);return G(a,"dd MMMM yyyy, hh:mm:ss a")};if(y)return e.jsx("div",{className:"p-4",children:e.jsx(F,{count:5})});const h=i.filter(s=>s.title.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{children:[e.jsx("section",{className:"flex flex-col justify-center h-[200px] bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:e.jsxs(P,{className:"flex flex-col items-center px-4",children:[e.jsx("h3",{className:"mb-6 text-center",children:"Get your question answered quickly here!"}),e.jsxs(U,{className:"mb-4 xl:min-w-[800px]",children:[e.jsx(T,{placeholder:"Search...",value:n,className:"flex-1",onChange:s=>p(s.target.value)}),e.jsx(B,{icon:e.jsx("span",{className:"mx-4",children:e.jsx(E,{})})})]})]})}),e.jsxs("div",{className:"p-4",children:[o&&e.jsx("p",{className:"text-center font-semibold mt-8 text-red-700 text-lg",children:o}),!o&&h.length===0?e.jsx("div",{className:"text-xl font-bold text-center text-black",children:n?"No articles match your search.":"No articles available."}):!o&&h.map(s=>e.jsx("article",{children:e.jsx(g,{clickable:!0,className:"group mb-4",onClick:()=>C(s.id),children:e.jsxs("div",{className:"px-8 py-3 relative",children:[s.starred&&e.jsx("div",{className:"absolute ltr:left-0 rtl:right-0",children:e.jsx("div",{className:"text-amber-500 p-0.5 rounded-full border border-amber-500 mt-1",children:e.jsx(H,{})})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"group-hover:underline",children:s.title}),e.jsx(M,{className:"text-white bg-green-700 border-0 cursor-pointer",onClick:()=>p(s.category),children:s.category})]}),e.jsx("div",{className:"mt-2 prose dark:prose-invert max-w-none line-clamp-3",children:q(s.content||"")}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Written by:"}),s.author.name,e.jsx(L,{avatarProps:{size:25},users:[{name:s.author.name,image:s.author.image||""}]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"text-lg"}),e.jsxs("span",{children:["Updated"," ",w(s.updated_at)]})]})})]})]})})},s.id))]})]})};export{ce as default};
