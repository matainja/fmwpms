import{u as t,a as f,j as e,s as S,c as u,b as v,d as N,e as _,f as A,N as p,g as T,h as y}from"./index-Duop_KdH.js";import{w as E}from"./SidePanel-CWYuY96N.js";import{u as x}from"./useResponsive-D-Ll9hCL.js";import{N as D,L as O,n as R}from"./navigation-icon.config-CAFyO9U_.js";import{S as M}from"./Upload-B4cDWJBA.js";import{V}from"./VerticalMenuContent-CAjGVpiG.js";import{A as I}from"./Tag-DgqJbByg.js";const L=({className:l})=>{const r=t(o=>o.theme.layout.sideNavCollapse),a=f(),{larger:c}=x(),n=()=>{a(S(!r))};return e.jsx(e.Fragment,{children:c.md&&e.jsx("div",{className:l,onClick:n,children:e.jsx(D,{className:"text-2xl",toggled:r})})})},P=E(L),b=({className:l})=>{const{avatar:r,userName:a,role:c}=t(o=>o.auth.user),n=t(o=>o.theme.layout.sideNavCollapse);return e.jsxs("div",{className:u(l,"flex items-center gap-2"),children:[e.jsx(I,{size:32,shape:"circle",src:r||"/img/avatars/No_user.jpeg"}),e.jsxs("div",{className:`${n?"hidden":"block"} text-white`,children:[e.jsx("div",{className:"text-xs capitalize",children:c||"guest"}),e.jsx("div",{className:"font-bold",children:a})]})]})},w={width:N,minWidth:N},H={width:v,minWidth:v},B=()=>{const l=t(s=>s.theme.themeColor),r=t(s=>s.theme.primaryColorLevel),a=t(s=>s.theme.navMode),c=t(s=>s.theme.mode),n=t(s=>s.theme.direction),o=t(s=>s.base.common.currentRouteKey),i=t(s=>s.theme.layout.sideNavCollapse);let d=null;const m=localStorage.getItem("admin");if(m)try{const s=JSON.parse(m);d=JSON.parse(s.auth).user.role}catch(s){console.error("Failed to parse admin info from localStorage:",s)}const{larger:g}=x(),j=()=>a===p?`bg-${l}-${r} side-nav-${a}`:`side-nav-${a}`,C=()=>a===p?T:a===y?c:a,h=e.jsx(V,{navMode:a,collapsed:i,navigationTree:R,routeKey:o,userAuthority:d,direction:n});return e.jsx(e.Fragment,{children:g.md&&e.jsxs("div",{style:i?H:w,className:u("side-nav",j(),!i&&"side-nav-expand"),children:[e.jsx("div",{className:"side-nav-header",children:e.jsx(O,{logoWidth:250,mode:C(),type:i?"streamline":"full",className:i?_:A})}),i?h:e.jsx("div",{className:"side-nav-content",children:e.jsx(M,{autoHide:!0,direction:n,children:h})}),e.jsx("div",{className:"side-nav-header flex items-center gap-2 px-6",children:e.jsx(b,{})})]})})};export{B as S,P as a};
