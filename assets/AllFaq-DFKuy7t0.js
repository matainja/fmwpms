import{j as e,x as j,p as b,r as i}from"./index-DxYrGPuB.js";import{F as N}from"./Faq-CP-2cN-n.js";import{C as u}from"./Tag-BddxHN8B.js";import"./SvgIcon-CxecnIM0.js";import{C as v,E as y}from"./Views-CqBX4VKw.js";import{I as S,B as w}from"./hoist-non-react-statics.cjs-Ci2CuKH8.js";import"./FormContainer-gQGx1Dsz.js";import{I as C}from"./Upload-Ck9jiP_Q.js";import{S as q}from"./Select-xF-sg4aH.js";import"./toast-DqtlumJS.js";import"./index-C5oRzy9o.js";import"./quill.snow-BsEul1hU.js";import"./cloneDeep-DznBgb_t.js";import"./useThemeClass-OagxHL70.js";const F=({searchTerm:r,onSearch:l,faqData:n})=>{const c=n.map(a=>({value:a.name,label:a.name})),d=a=>{l(a?a.value:"")};return e.jsx("div",{children:e.jsx("section",{className:"flex flex-col justify-center h-[200px] bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:e.jsxs(v,{className:"flex flex-col items-center px-4",children:[e.jsx("h3",{className:"mb-6 text-center",children:"Get your question answered quickly here!"}),e.jsxs(C,{className:"mb-4 xl:min-w-[800px]",children:[e.jsx(S,{placeholder:"Search...",value:r,className:"flex-1",onChange:a=>l(a.target.value)}),e.jsx("div",{className:"min-w-[120px]",children:e.jsx(q,{placeholder:"Select FAQ",options:[{value:"",label:"All"},...c],onChange:d})}),e.jsx(w,{icon:e.jsx("span",{className:"mx-4",children:e.jsx(y,{})})})]})]})})})},A=()=>e.jsxs(u,{className:"p-4 shadow-md border rounded-md animate-pulse",children:[e.jsx("div",{className:"mb-4 flex justify-center bg-gray-200 w-full h-[150px] rounded-md"}),e.jsx("div",{className:"mb-2 bg-gray-200 h-6 w-3/4 rounded-md mx-auto"}),e.jsx("div",{className:"bg-gray-200 h-4 w-1/2 rounded-md mx-auto"})]}),k=({faqData:r,loading:l,error:n})=>{const c=j(),d=b(),a=c.pathname.startsWith("/public"),x=t=>{d(`${a?"/public/faq":"/faq"}/${t}`)};return l?e.jsx("div",{className:"grid lg:grid-cols-2 2xl:grid-cols-4 gap-4 p-4",children:Array.from({length:8}).map((t,o)=>e.jsx(A,{},o))}):n?e.jsx("p",{className:"text-red-500",children:n}):r.length===0?e.jsx("p",{children:"No data found"}):e.jsx("div",{className:"grid lg:grid-cols-2 2xl:grid-cols-4 gap-4 p-4",children:r.map(({id:t,name:o,image:h})=>e.jsxs(u,{className:"cursor-pointer p-4 shadow-md border rounded-md hover:shadow-lg transition",onClick:()=>x(t),children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("img",{className:"aspect-3/2 object-cover w-[204px] rounded-md",src:h,alt:o})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-1 text-lg font-semibold",children:o}),e.jsx("span",{children:"Articles"})]})]},t))})},W=()=>{const[r,l]=i.useState([]),[n,c]=i.useState([]),[d,a]=i.useState(""),[x,t]=i.useState(null),[o,h]=i.useState(!0),p=async()=>{try{const s=await N();console.log("API Response:",s);const m=(s==null?void 0:s.data)||[];l(m),c(m),t(null)}catch(s){t("Failed to fetch FAQ data."),console.error("Error fetching FAQ data:",s)}finally{h(!1)}},f=s=>{a(s);const m=r.filter(g=>g.name.toLowerCase().includes(s.toLowerCase()));c(m)};return i.useEffect(()=>{p()},[]),e.jsxs("div",{children:[e.jsx(F,{searchTerm:d,faqData:r,onSearch:f}),e.jsx(k,{faqData:n,loading:o,error:x})]})};export{W as default};
