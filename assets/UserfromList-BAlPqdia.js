import{j as e,p as h,$ as x,r as o,u as f}from"./index-DxYrGPuB.js";import{F as u}from"./FromPreview-B9aP6I_L.js";import"./FormContainer-gQGx1Dsz.js";import{C as p,A as j}from"./Tag-BddxHN8B.js";import{B as v}from"./hoist-non-react-statics.cjs-Ci2CuKH8.js";import"./Upload-Ck9jiP_Q.js";import"./Select-xF-sg4aH.js";import"./toast-DqtlumJS.js";import{L as d}from"./Views-CqBX4VKw.js";const b=({title:a,describe:t,showButtom:r,buttonText:s,buttonClick:l})=>e.jsxs("div",{className:"lg:flex items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsx("h3",{children:a}),e.jsx("p",{children:t})]}),r&&e.jsx("div",{children:e.jsx(v,{className:"mr-2 mb-2",variant:"solid",color:"green-600",onClick:l,children:s})})]}),w=()=>{const a=h(),{id:t}=x();o.useEffect(()=>{console.log("useParams id:",t)},[t]);const r=[{icon:"/img/others/qulity.png",title:"FORM - A",label:"Employee Performance Contract",link:`${d}/officer/planning/${t}`,background:"bg-blue-500",textColor:"text-white"},{icon:"/img/others/qulity.png",title:"FORM - B",label:"Employee Quarterly Appraisal",link:`${d}/officer/review/${t}`,background:"bg-green-500",textColor:"text-white"},{icon:"/img/others/qulity.png",title:"FORM - C",label:"Employee Annual Appraisal",link:`${d}/officer/annual-review/${t}`,background:"bg-orange-500",textColor:"text-white"}];return e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((s,l)=>e.jsx(p,{clickable:!0,className:`hover:shadow-lg transition duration-150 ease-in-out h-36 ${s.background}`,onClick:()=>s.link&&a(s.link),children:e.jsx("div",{className:`flex flex-col lg:flex-row lg:items-center justify-between gap-4 ${s.textColor}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:s.icon,alt:"icon",className:"w-16 h-16 object-contain"}),e.jsxs("div",{children:[e.jsx("h6",{className:`${s.textColor}`,children:s.title}),e.jsx("span",{children:s.label})]})]})})},l))})},E=()=>{const{avatar:a,userName:t}=f(i=>i.auth.user),r=f(i=>i.department.selectedYear),[s,l]=o.useState(null),[N,m]=o.useState(null);return o.useEffect(()=>{l(r)},[r]),o.useEffect(()=>{(async()=>{try{if(s){const c=`formPreview_${s}`,g=localStorage.getItem(c);if(g)m(JSON.parse(g));else{const n=await u(s);m(n),localStorage.setItem(c,JSON.stringify(n)),console.log("Fetched from API:",n)}}else console.log("No year selected")}catch(c){console.error("Failed to fetch form preview:",c)}})()},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{size:40,shape:"circle",src:a}),e.jsx("div",{className:"ms-4",children:e.jsx("h3",{children:t})})]}),e.jsxs("div",{children:[e.jsx(b,{title:"Individual Performance Database Section"}),e.jsx(w,{})]})]})};export{E as default};
